var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,l=(e,a)=>{for(var s in a||(a={}))i.call(a,s)&&o(e,s,a[s]);if(t)for(var s of t(a))r.call(a,s)&&o(e,s,a[s]);return e},n=(e,t)=>a(e,s(t)),c=(e,a,s)=>new Promise((t,i)=>{var r=e=>{try{l(s.next(e))}catch(a){i(a)}},o=e=>{try{l(s.throw(e))}catch(a){i(a)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,o);l((s=s.apply(e,a)).next())});import{j as d}from"./ui-c9cf61f3.js";import{a as m,r as u}from"./react-b06bd742.js";import{H as p}from"./helmet-74cef20f.js";import{c as x,u as h,a as f,B as g,s as j}from"./index-7fbfe902.js";import{L as v,I as b}from"./label-85fdc34b.js";import{X as N,F as w,S as y,Z as C,T as S}from"./icons-4062004e.js";import{u as D}from"./router-f4cf630b.js";import{m as _}from"./animation-2247ff6b.js";import"./supabase-58c16b84.js";import"./utils-a6b5387a.js";const O=m.forwardRef((e,a)=>{var s=e,{className:o}=s,n=((e,a)=>{var s={};for(var o in e)i.call(e,o)&&a.indexOf(o)<0&&(s[o]=e[o]);if(null!=e&&t)for(var o of t(e))a.indexOf(o)<0&&r.call(e,o)&&(s[o]=e[o]);return s})(s,["className"]);return d.jsx("textarea",l({className:x("flex min-h-[80px] w-full rounded-lg border border-input bg-background px-4 py-3 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none transition-all",o),ref:a},n))});function P({value:e=[],onChange:a,placeholder:s="Digite e pressione Enter ou clique fora do campo"}){const[t,i]=u.useState("");return d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"text",value:t,onChange:e=>i(e.target.value),onKeyDown:s=>{if("Enter"===s.key&&t.trim()){s.preventDefault();const r=t.trim();e.includes(r)||a([...e,r]),i("")}else"Backspace"===s.key&&!t&&e.length>0&&a(e.slice(0,-1))},onBlur:()=>{if(t.trim()){const s=t.trim();e.includes(s)||a([...e,s]),i("")}},placeholder:s,className:"tag-input w-full"}),e.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((s,t)=>d.jsxs("span",{className:"tag-item",children:[s,d.jsx("button",{type:"button",onClick:()=>{return t=s,void a(e.filter(e=>e!==t));var t},className:"hover:bg-white/20 rounded-full p-1 transition-colors",children:d.jsx(N,{className:"w-3 h-3"})})]},t))})]})}function E(){const e=D(),{toast:a}=h(),{user:s}=f(),[t,i]=u.useState(null),[r,o]=u.useState({nomeCompleto:"",cargoDesejado:"",email:"",telefone:"",tecnologias:[],experiencias:"",formacao:""}),[m,x]=u.useState(!1),N={}.VITE_OPENAI_API_KEY;u.useEffect(()=>{(()=>{c(this,null,function*(){if(s){const{data:e,error:a}=yield j.from("profiles").select("is_subscriber, generation_count, last_generation_date").eq("id",s.id).single();a&&"PGRST116"!==a.code||i(e)}})})()},[s]);const E=()=>c(this,null,function*(){const e=(new Date).toDateString();if(s){let r=t;if(!r){const{data:e}=yield j.from("profiles").select("*").eq("id",s.id).single();r=e,i(e)}const o=(null==r?void 0:r.is_subscriber)||!1;let c=(null==r?void 0:r.generation_count)||0;((null==r?void 0:r.last_generation_date)?new Date(r.last_generation_date).toDateString():null)!==e&&(c=0);const d=o?20:5;if(c<d){const e=c+1,{error:a}=yield j.from("profiles").update({generation_count:e,last_generation_date:(new Date).toISOString()}).eq("id",s.id);return a||i(a=>n(l({},a),{generation_count:e,last_generation_date:(new Date).toISOString()})),!0}return a({title:"Limite atingido",description:`Você pode gerar ${d} currículos por dia.`,variant:"destructive"}),!1}{const e=(new Date).getTime(),s=(JSON.parse(localStorage.getItem("usage_guest"))||[]).filter(a=>e-a<1728e5);return s.length<2?(s.push(e),localStorage.setItem("usage_guest",JSON.stringify(s)),!0):(a({title:"Limite atingido",description:"Cadastre-se para gerar mais currículos.",variant:"destructive"}),!1)}});return null==t||t.is_subscriber,d.jsxs(d.Fragment,{children:[d.jsxs(p,{children:[d.jsx("title",{children:"Gerador de Currículos com IA - Crie seu CV Profissional"}),d.jsx("meta",{name:"description",content:"Gere currículos profissionais para área de tecnologia usando inteligência artificial. Rápido, fácil e moderno."})]}),d.jsx("div",{className:"min-h-screen py-8 px-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full blur-xl opacity-30 animate-pulse"}),d.jsx(w,{className:"relative w-16 h-16 text-blue-400"})]})}),d.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:[d.jsx("span",{className:"gradient-text",children:"Gerador de Currículos"}),d.jsx("br",{}),d.jsx("span",{className:"text-white",children:"com IA"})]}),d.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-8",children:"Crie currículos profissionais para área de tecnologia usando inteligência artificial. Rápido, moderno e otimizado para recrutadores tech."}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-400",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(y,{className:"w-4 h-4 text-yellow-400"}),d.jsx("span",{children:"IA Avançada"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(C,{className:"w-4 h-4 text-blue-400"}),d.jsx("span",{children:"Geração Rápida"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(S,{className:"w-4 h-4 text-green-400"}),d.jsx("span",{children:"Foco em Tech"})]})]})]}),d.jsx(_.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"glass-effect rounded-2xl p-8 mb-8",children:d.jsxs("form",{onSubmit:t=>c(this,null,function*(){if(t.preventDefault(),!(yield E()))return;if(!(r.nomeCompleto.trim()&&r.cargoDesejado.trim()&&r.email.trim()&&r.telefone.trim()&&0!==r.tecnologias.length))return void a({title:"Campos obrigatórios",description:"Por favor, preencha o nome completo, o cargo desejado, email, telefone e adicione ao menos uma tecnologia.",variant:"destructive"});x(!0);const i=`Crie um currículo para um profissional de tecnologia com base nas seguintes informações. Formate a saída em Markdown, utilizando títulos (###) para as seções e listas com marcadores (*) para itens.\n\n**Nome:** ${r.nomeCompleto}\n**Cargo Desejado:** ${r.cargoDesejado}\n**Email:** ${r.email}\n**Telefone:** ${r.telefone}\n**Tecnologias:** ${r.tecnologias.join(", ")}\n**Experiência:** ${r.experiencias}\n**Formação:** ${r.formacao}\n\nO currículo deve incluir as seguintes seções:\n1.  **Resumo Profissional:** Um parágrafo conciso e impactante.\n2.  **Tecnologias:** Uma lista de tecnologias mencionadas.\n3.  **Experiência Profissional:** Formate a experiência fornecida em um estilo profissional, usando bullet points para destacar responsabilidades e conquistas.\n4.  **Formação Acadêmica:** Liste o curso mencionado.`;try{const t=yield fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:i}],temperature:.7})});if(!t.ok){const e=yield t.json();throw new Error(`Falha na API da OpenAI: ${e.error.message}`)}const o=(yield t.json()).choices[0].message.content,c=n(l({},r),{generatedContent:o});if(localStorage.setItem("curriculoData",JSON.stringify(c)),s){const{error:e}=yield j.from("curriculos").insert({user_id:s.id,data:c})}a({title:"Sucesso!",description:"Seu currículo foi gerado com sucesso!"}),e("/curriculo-gerado")}catch(o){a({title:"Erro",description:`Ocorreu um erro ao gerar o currículo: ${o.message}`,variant:"destructive"})}finally{x(!1)}}),className:"space-y-8",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(v,{htmlFor:"nome",className:"text-white font-medium",children:"Nome Completo *"}),d.jsx(b,{id:"nome",type:"text",placeholder:"Seu nome completo",value:r.nomeCompleto,onChange:e=>o(a=>n(l({},a),{nomeCompleto:e.target.value})),className:"bg-white/5 border-white/20 text-white placeholder-white/60",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(v,{htmlFor:"cargo",className:"text-white font-medium",children:"Cargo Desejado *"}),d.jsx(b,{id:"cargo",type:"text",placeholder:"Ex: Desenvolvedor Full Stack",value:r.cargoDesejado,onChange:e=>o(a=>n(l({},a),{cargoDesejado:e.target.value})),className:"bg-white/5 border-white/20 text-white placeholder-white/60",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(v,{htmlFor:"email",className:"text-white font-medium",children:"Email *"}),d.jsx(b,{id:"email",type:"email",placeholder:"Seu email",value:r.email,onChange:e=>o(a=>n(l({},a),{email:e.target.value})),className:"bg-white/5 border-white/20 text-white placeholder-white/60",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(v,{htmlFor:"telefone",className:"text-white font-medium",children:"Telefone de Contato *"}),d.jsx(b,{id:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:r.telefone,onChange:e=>o(a=>n(l({},a),{telefone:e.target.value})),className:"bg-white/5 border-white/20 text-white placeholder-white/60",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(v,{className:"text-white font-medium",children:"Tecnologias que Domina *"}),d.jsx(P,{value:r.tecnologias,onChange:e=>{o(a=>n(l({},a),{tecnologias:e}))},placeholder:"Digite uma tecnologia e pressione Enter"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Ex: React, Node.js, Python, Docker, AWS, etc."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(v,{htmlFor:"experiencias",className:"text-white font-medium",children:"Últimas Experiências Profissionais"}),d.jsx(O,{id:"experiencias",placeholder:"Descreva suas últimas experiências profissionais, projetos relevantes, conquistas...",value:r.experiencias,onChange:e=>o(a=>n(l({},a),{experiencias:e.target.value})),className:"bg-white/5 border-white/20 text-white placeholder-white/60 min-h-32",rows:6})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(v,{htmlFor:"formacao",className:"text-white font-medium",children:"Formação"}),d.jsx(O,{id:"formacao",placeholder:"inclua sua formação, Curso superior em tecnologia, na universidade XXX concluído no 2ºsemestre de 2024",value:r.formacao,onChange:e=>o(a=>n(l({},a),{formacao:e.target.value})),className:"bg-white/5 border-white/20 text-white placeholder-white/60 min-h-32",rows:4})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx(g,{type:"submit",disabled:m,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-12 py-4 text-lg font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 pulse-glow",children:m?d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Gerando Currículo..."]}):d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(y,{className:"w-5 h-5"}),"Gerar Currículo com IA"]})})})]})}),d.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"grid md:grid-cols-3 gap-6 text-center",children:[d.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[d.jsx(y,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),d.jsx("h3",{className:"font-semibold text-white mb-2",children:"IA Avançada"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Utilizamos GPT para criar currículos únicos e profissionais"})]}),d.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[d.jsx(C,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),d.jsx("h3",{className:"font-semibold text-white mb-2",children:"Geração Rápida"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Seu currículo fica pronto em segundos, formatado e otimizado"})]}),d.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[d.jsx(S,{className:"w-8 h-8 text-green-400 mx-auto mb-3"}),d.jsx("h3",{className:"font-semibold text-white mb-2",children:"Foco em Tech"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Especializado em profissionais de tecnologia e desenvolvimento"})]})]})]})})]})}O.displayName="Textarea";export{E as default};

import{_ as e}from"./supabase-58c16b84.js";import{j as a}from"./ui-c9cf61f3.js";import{a as s,r as t}from"./react-b06bd742.js";import{H as r}from"./helmet-74cef20f.js";import{u as i,a as o,L as l,B as n,s as c}from"./index-7fbfe902.js";import{u as m}from"./router-f4cf630b.js";import{m as d}from"./animation-2247ff6b.js";import{a as x,D as u,A as p,F as h}from"./icons-4062004e.js";import"./utils-a6b5387a.js";const j=s.lazy(()=>e(()=>import("./ResumePreview-e6de4c13.js"),["assets/ResumePreview-e6de4c13.js","assets/ui-c9cf61f3.js","assets/react-b06bd742.js"]).then(e=>({default:e.ResumePreview})));function f(){const e=m(),{toast:s}=i(),{user:f}=o(),[v,g]=t.useState(null),[y,N]=t.useState(!1);t.useEffect(()=>()=>{localStorage.removeItem("curriculoData")},[]),t.useEffect(()=>{const a=localStorage.getItem("curriculoData");if(!a)return void e("/");g(JSON.parse(a));(()=>{return e=this,a=null,s=function*(){if(f){const{data:e,error:a}=yield c.from("profiles").select("is_subscriber").eq("id",f.id).single();!a&&e&&N(e.is_subscriber)}},new Promise((t,r)=>{var i=e=>{try{l(s.next(e))}catch(a){r(a)}},o=e=>{try{l(s.throw(e))}catch(a){r(a)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,o);l((s=s.apply(e,a)).next())});var e,a,s})()},[e,f]);return v?a.jsxs(a.Fragment,{children:[a.jsxs(r,{children:[a.jsx("title",{children:"Currículo Gerado com Sucesso - Download Disponível"}),a.jsx("meta",{name:"description",content:"Seu currículo profissional foi gerado com sucesso. Faça o download agora mesmo!"})]}),a.jsx("div",{className:"min-h-screen py-8 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"grid gap-8",children:a.jsx("div",{children:a.jsxs(d.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"glass-effect rounded-2xl p-8",children:[a.jsx(d.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.2,type:"spring"},className:"flex justify-center mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full blur-xl opacity-30 animate-pulse"}),a.jsx(x,{className:"relative w-20 h-20 text-green-400"})]})}),a.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-8 text-center",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:[a.jsx("span",{className:"gradient-text",children:"Currículo Gerado"}),a.jsx("br",{}),a.jsx("span",{className:"text-white",children:"com Sucesso!"})]}),a.jsx("p",{className:"text-xl text-gray-300 mb-6",children:"Seu currículo profissional foi criado usando IA e está pronto para download!"})]}),v&&a.jsx(t.Suspense,{fallback:a.jsx(l,{size:"lg",className:"my-8"}),children:a.jsx(j,{data:v})}),a.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-8 space-y-4 text-center",children:[a.jsxs(n,{onClick:()=>{s({title:"Preparando para impressão...",description:"Seu currículo será aberto na janela de impressão para salvar como PDF."}),setTimeout(()=>{window.print()},500)},className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-8 py-4 text-lg font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 pulse-glow",children:[a.jsx(u,{className:"w-5 h-5 mr-3"}),"Baixar Currículo PDF"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(n,{onClick:()=>{localStorage.removeItem("curriculoData"),e("/")},variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[a.jsx(p,{className:"w-4 h-4 mr-2"}),"Criar Novo Currículo"]}),a.jsxs(n,{onClick:()=>s({title:"🚧 Funcionalidade em desenvolvimento",description:"O compartilhamento será implementado em breve! Solicite esta funcionalidade no próximo prompt! 🚀"}),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[a.jsx(h,{className:"w-4 h-4 mr-2"}),"Compartilhar"]})]})]})]})})}),a.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mt-12 grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"glass-effect rounded-xl p-6 text-center",children:[a.jsx(h,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Formato PDF"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Currículo em formato PDF profissional, pronto para envio"})]}),a.jsxs("div",{className:"glass-effect rounded-xl p-6 text-center",children:[a.jsx(x,{className:"w-8 h-8 text-green-400 mx-auto mb-3"}),a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Otimizado"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Layout moderno e otimizado para sistemas de recrutamento"})]}),a.jsxs("div",{className:"glass-effect rounded-xl p-6 text-center",children:[a.jsx(u,{className:"w-8 h-8 text-purple-400 mx-auto mb-3"}),a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Download Rápido"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Baixe instantaneamente e comece a aplicar para vagas"})]})]})]})})]}):null}export{f as default};

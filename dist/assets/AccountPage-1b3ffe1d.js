import{j as e}from"./ui-c9cf61f3.js";import{r as t}from"./react-b06bd742.js";import{H as s}from"./helmet-74cef20f.js";import{a as r,u as a,B as i}from"./index-32bd60cb.js";import{L as l,I as n}from"./label-fa940b02.js";import"./supabase-58c16b84.js";import"./router-f4cf630b.js";import"./utils-a6b5387a.js";import"./icons-67a24831.js";import"./animation-2247ff6b.js";function o(){const{user:o,updatePassword:c}=r(),{toast:m}=a(),[h,d]=t.useState(""),[u,p]=t.useState(""),[x,j]=t.useState(""),[f,w]=t.useState(!1);if(!o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("p",{className:"text-gray-300",children:"É necessário estar logado para acessar esta página."})});return e.jsxs(e.Fragment,{children:[e.jsx(s,{children:e.jsx("title",{children:"Gerenciar Conta"})}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md glass-effect rounded-2xl p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Alterar Senha"}),e.jsxs("form",{onSubmit:e=>{return t=this,s=null,r=function*(){if(e.preventDefault(),u!==x)return void m({variant:"destructive",title:"As novas senhas não coincidem"});w(!0);const{error:t}=yield c(h,u);t||(d(""),p(""),j("")),w(!1)},new Promise((a,i)=>{var l=t=>{try{o(r.next(t))}catch(e){i(e)}},n=t=>{try{o(r.throw(t))}catch(e){i(e)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,n);o((r=r.apply(t,s)).next())});var t,s,r},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"current",className:"text-white font-medium",children:"Senha Atual"}),e.jsx(n,{id:"current",type:"password",value:h,onChange:e=>d(e.target.value),required:!0,className:"bg-white/5 border-white/20 text-white placeholder-white/60"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"new",className:"text-white font-medium",children:"Nova Senha"}),e.jsx(n,{id:"new",type:"password",value:u,onChange:e=>p(e.target.value),required:!0,className:"bg-white/5 border-white/20 text-white placeholder-white/60"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"confirm",className:"text-white font-medium",children:"Confirmar Nova Senha"}),e.jsx(n,{id:"confirm",type:"password",value:x,onChange:e=>j(e.target.value),required:!0,className:"bg-white/5 border-white/20 text-white placeholder-white/60"})]}),e.jsx(i,{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3",children:f?"Salvando...":"Alterar Senha"})]})]})})]})}export{o as default};
